<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>hexo中添加本地图片 | 保持好奇</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">hexo中添加本地图片</h1><a id="logo" href="/.">保持好奇</a><p class="description">独学而无友则孤陋而寡闻</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">hexo中添加本地图片</h1><div class="post-meta"><a href="/hexo中添加本地图片/#comments" class="comment-count"></a><p><span class="date">Dec 17, 2018</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h1 id="1-Hexo中添加本地图片"><a href="#1-Hexo中添加本地图片" class="headerlink" title="1. Hexo中添加本地图片"></a>1. Hexo中添加本地图片</h1><p>参考文献</p>
<blockquote>
<p><a href="https://www.cnblogs.com/codehome/p/8428738.html?utm_source=debugrun&amp;utm_medium=referral" target="_blank" rel="noopener">Hexo中添加本地图片</a></p>
</blockquote>
<h2 id="First"><a href="#First" class="headerlink" title="First"></a>First</h2><p>1 把主页配置文件_config.yml 里的<code>post_asset_folder:</code>这个选项设置为<code>true</code></p>
<p>2 在你的hexo目录下执行这样一句话<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-<span class="built_in">image</span> --<span class="built_in">save</span></span><br></pre></td></tr></table></figure></p>
<p>这是下载安装一个可以上传本地图片的插件，来自dalao：dalao的git</p>
<p>3 等待一小段时间后，再运行<code>hexo n &quot;xxxx&quot;</code>来生成md博文时，/source/_posts文件夹内除了xxxx.md文件还有一个同名的文件夹</p>
<p>4 最后在xxxx.md中想引入图片时，先把图片复制到xxxx这个文件夹中，然后只需要在xxxx.md中按照markdown的格式引入图片：<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">你想输入的替代文字</span>](<span class="link">xxxx/图片名.jpg</span>)</span><br></pre></td></tr></table></figure></p>
<p>注意： xxxx是这个md文件的名字，也是同名文件夹的名字。只需要有文件夹名字即可，不需要有什么绝对路径。你想引入的图片就只需要放入xxxx这个文件夹内就好了，很像引用相对路径。</p>
<p>5 最后检查一下，hexo g生成页面后，进入public\2017\02\26\index.html文件中查看相关字段，可以发现，html标签内的语句是<code>&lt;img src=&quot;2017/02/26/xxxx/图片名.jpg&quot;&gt;</code>，而不是<code>&lt;img src=&quot;xxxx/图片名.jpg&gt;</code>。这很重要，关乎你的网页是否可以真正加载你想插入的图片。</p>
<h2 id="Second"><a href="#Second" class="headerlink" title="Second"></a>Second</h2><p>本地source中建立img文件夹<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">img</span> src=<span class="string">"img/图片名.jpg&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>这个比较方便</p>
<h1 id="2-hexo生成博文插入图片"><a href="#2-hexo生成博文插入图片" class="headerlink" title="2. hexo生成博文插入图片"></a>2. hexo生成博文插入图片</h1><p>参开文献</p>
<blockquote>
<p><a href="https://blog.csdn.net/hqweay/article/details/80847495" target="_blank" rel="noopener">hexo 生成博文插入本地图片</a></p>
</blockquote>
<p>原文</p>
<p>步骤</p>
<pre><code>把主页配置文件_config.yml 里的post_asset_folder:这个选项设置为true

在你的hexo目录下执行这样一句话npm install hexo-asset-image --save，这是下载安装一个可以上传本地图片的插件，来自dalao：dalao的git

等待一小段时间后，再运行hexo n &quot;xxxx&quot;来生成md博文时，/source/_posts文件夹内除了xxxx.md文件还有一个同名的文件夹 （当然也可以自己手动建）

最后在xxxx.md中想引入图片时，先把图片复制到xxxx这个文件夹中，然后只需要在xxxx.md中按照markdown的格式引入图片：

![你想输入的替代文字](xxxx/图片名.jpg)

注意： xxxx是这个md文件的名字，也是同名文件夹的名字。只需要有文件夹名字即可，不需要有什么绝对路径。你想引入的图片就只需要放入xxxx这个文件夹内就好了，很像引用相对路径。

最后检查一下，hexo g生成页面后，进入public\2017\02\26\index.html文件中查看相关字段，可以发现，html标签内的语句是&lt;img src=&quot;2017/02/26/xxxx/图片名.jpg&quot;&gt;，而不是&lt;img src=&quot;xxxx/图片名.jpg&gt;。这很重要，关乎你的网页是否可以真正加载你想插入的图片。
</code></pre><p><strong>遇到问题</strong></p>
<p>遇到没能成功显示的问题，查看网页，结果是 <img src="/hexo中添加本地图片/2017/02/26/2017-02-23-c/图片名.jpg"> 的形式，然后查看 hexo 的目录，发现路径是 /public/2017/02/26/c/a.jpg。</p>
<p>之前在 md 文件中引用时写作：</p>
<p><img src="/hexo中添加本地图片/xxxx/图片名.jpg" alt="你想输入的替代文字"></p>
<p>改为：</p>
<p><img src="/hexo中添加本地图片/a.jpg" alt=""></p>
<p>就可以了。</p>
<p>效果查看 这篇文章 的图片显示。<br>为什么</p>
<p>看上面的效果，出错原因是 /public/2017/02/26/c/ 文件夹中没有生成保存图片的同名文件夹，图片直接被拷贝到这个文件夹下了。</p>
<p>突然想起从 jekyll 转移到 hexo 的时候更改过文章路径与标题解析方式…</p>
<p>不知道有没有关联。<br>hexo 修改文章路径</p>
<p>hexo的永久链接</p>
<p>产生的链接和两条属性相关。</p>
<p>permalink: :year/:month/:day/:title/ 链接格式</p>
<p>new_post_name: :title.md 解析标题方式</p>
<p>之前文章的命名方式都是 YYYY-MM-DD-title （jekyll 的文章格式），比如文件 2018-05-30-hexo-image.md 。</p>
<p>hexo 渲染时解析博文的标题为 2018-05-30-hexo-image 。</p>
<p>当如上设置 permalink 后，路径就是 <a href="http://hqweay.cn/2018/05/30/2018-05-30-hexo-image/" target="_blank" rel="noopener">http://hqweay.cn/2018/05/30/2018-05-30-hexo-image/</a> 这样。</p>
<p>时间出现了两次好诡异啊。</p>
<p>可以修改 permalink： ：title/ ，链接就直接用标题来区分。</p>
<p>效果是：<a href="http://hqweay.cn/2018-05-30-hexo-image/" target="_blank" rel="noopener">http://hqweay.cn/2018-05-30-hexo-image/</a></p>
<p>但是我想导入评论，链接最好和之前 jekyll 的一致。</p>
<p>于是就想办法改改后面。</p>
<p>hexo 提供了 new_post_name 。这条属性是定义 hexo 对文章标题的解析方式的。</p>
<p>默认为 new_post_name: :title.md 。</p>
<p>我们修改为 new_post_name: :year-:month-:day-:title.md 。</p>
<p>对比文件命名，很容易理解。</p>
<p>这样，hexo 就会把自动提取出文件的命名中的文章标题，而不是直接把文件的命名解析为标题。</p>
<p>路径就为：</p>
<p><a href="http://hqweay.cn/2018/05/30/hexo-image/" target="_blank" rel="noopener">http://hqweay.cn/2018/05/30/hexo-image/</a></p>
<h1 id="3-本地遇到的问题"><a href="#3-本地遇到的问题" class="headerlink" title="3. 本地遇到的问题"></a>3. 本地遇到的问题</h1><p>使用<br><figure class="highlight maxima"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-asset-<span class="built_in">image</span> --<span class="built_in">save</span></span><br><span class="line">hexo n <span class="string">"xxxx"</span></span><br></pre></td></tr></table></figure></p>
<p>xxxx.md中<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">你想输入的替代文字</span>](<span class="link">xxxx/图片名.jpg</span>)</span><br></pre></td></tr></table></figure></p>
<p>能正确访问，但试图在yyy.md中添加<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">你想输入的替代文字</span>](<span class="link">xxxx/图片名.jpg</span>)</span><br></pre></td></tr></table></figure></p>
<p>不能正确加载图片</p>
<p>原因： yyy.md生成时间与xxxx.md不同，因文件命名格式为（_config.yml）<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">permalink:</span> <span class="symbol">:year/</span><span class="symbol">:month/</span><span class="symbol">:day/</span><span class="symbol">:title/</span></span><br></pre></td></tr></table></figure></p>
<p>导致路径不一致</p>
<p>之后将其改成<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">permalink:</span> <span class="symbol">:title/</span></span><br></pre></td></tr></table></figure></p>
<p>使用同样的方式仍旧无法正确加载<br>在yyy.md中，此时的路径为<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:title/</span></span><br></pre></td></tr></table></figure></p>
<p>而在xxxx.md中路径为<br><figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:title/</span>../</span><br></pre></td></tr></table></figure></p>
<p>所以在yyy.md中加载图片需要<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">你想输入的替代文字</span>](<span class="link">../xxxx/图片名.jpg</span>)</span><br></pre></td></tr></table></figure></p>
</div><div class="tags"></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/pic/" class="pre">pic</a><a href="/github/" class="next">ubuntu上github的部署（草稿）</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#1-Hexo中添加本地图片"><span class="toc-text">1. Hexo中添加本地图片</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#First"><span class="toc-text">First</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Second"><span class="toc-text">Second</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#2-hexo生成博文插入图片"><span class="toc-text">2. hexo生成博文插入图片</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#3-本地遇到的问题"><span class="toc-text">3. 本地遇到的问题</span></a></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/ExpandableListView的使用简介/">ExpandableListView的使用简介</a></li><li class="post-list-item"><a class="post-list-link" href="/照片墙/">照片墙</a></li><li class="post-list-item"><a class="post-list-link" href="/MarkDown-图片大小问题/">MarkDown 图片大小问题</a></li><li class="post-list-item"><a class="post-list-link" href="/带悬停标题的ExpandableListView/">带悬停标题的ExpandableListView</a></li><li class="post-list-item"><a class="post-list-link" href="/手机录制屏幕转gif/">Android下录制App操作生成Gif动态图</a></li><li class="post-list-item"><a class="post-list-link" href="/转载-GitHub-实现多人协同提交代码并且权限分组管理/">转载  GitHub 实现多人协同提交代码并且权限分组管理</a></li><li class="post-list-item"><a class="post-list-link" href="/bash和source/">bash和source</a></li><li class="post-list-item"><a class="post-list-link" href="/ubuntu中使用apt安装jdk后如何查找java的真实路径/">ubuntu中使用apt安装jdk后如何查找java的真实路径</a></li><li class="post-list-item"><a class="post-list-link" href="/Android-SoundPool/">Android SoundPool音频池</a></li><li class="post-list-item"><a class="post-list-link" href="/Android-Vibrate震动/">Android Vibrator震动</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-gui"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/Android-UI控件/">Android UI控件</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/hexo/">hexo</a><span class="category-list-count">2</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"><a href="/tags/Android-UI控件/" style="font-size: 15px;">Android UI控件</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">一月 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Junsheng Wang.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>