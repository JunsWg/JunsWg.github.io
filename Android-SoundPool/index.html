<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>Android SoundPool音频池 | 保持好奇</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Android SoundPool音频池</h1><a id="logo" href="/.">保持好奇</a><p class="description">独学而无友则孤陋而寡闻</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">Android SoundPool音频池</h1><div class="post-meta"><a href="/Android-SoundPool/#comments" class="comment-count"></a><p><span class="date">Dec 18, 2018</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h1 id="Android-SoundPool音频池"><a href="#Android-SoundPool音频池" class="headerlink" title="Android SoundPool音频池"></a>Android SoundPool音频池</h1><h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h2><p><code>SoundPool</code>是Android 提供的一个API类，用来播放简短的音频，使用简单但功能相对强大。处于”android.media.SoundPool”包下，适合短促且对反应速度比较高的情况（游戏音效或按键声等）。支持从程序的资源或文件系统加载，通过资源ID来管理。</p>
<p><code>SoundPool</code>可以加载多个音频资源到内存，进行管理与播放，比如控制同时播放流的最大数目，另外还可以调节左右声道的音量值、调整播放的语速、声音的品质、设置播放的优先级以及播放的次数等等。</p>
<p>相较于在Android中播放音频文件经常会用到的<code>MediaPlayer</code>，后者存在一些不足的地方，如：</p>
<ul>
<li>资源占用量较高</li>
<li>加载延迟时间较长</li>
<li>不支持多个音频同时播放等。</li>
</ul>
<p>这些缺点决定了<code>MediaPlayer</code>在某些需要密集使用不同音频的情况不会理想，例如游戏开发。</p>
<h2 id="2-创建SoundPool"><a href="#2-创建SoundPool" class="headerlink" title="2. 创建SoundPool"></a>2. 创建SoundPool</h2><p><code>SoundPool</code> 的创建方式在不同版本中会有所不同,为了更好的兼容性,应该对api版本进行判断( API level 21),<br><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (android<span class="selector-class">.os</span><span class="selector-class">.Build</span><span class="selector-class">.VERSION</span><span class="selector-class">.SDK_INT</span> &gt;= android<span class="selector-class">.os</span><span class="selector-class">.Build</span><span class="selector-class">.VERSION_CODES</span><span class="selector-class">.LOLLIPOP</span>)</span><br></pre></td></tr></table></figure></p>
<p>再对应的进行创建. 在 <code>5.0</code> 以前 ，直接使用它的构造方法即可，而在这之后，则需要使用<code>Builder</code>模式来创建。</p>
<h3 id="2-1-Andoroid-5-0之前"><a href="#2-1-Andoroid-5-0之前" class="headerlink" title="2.1 Andoroid 5.0之前"></a>2.1 Andoroid 5.0之前</h3><p>接通过SoundPool的构造方法来创建,有三个参数:<br><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> SoundPool(<span class="keyword">int</span> maxStream, <span class="keyword">int</span> streamType, <span class="keyword">int</span> srcQuality) </span><br><span class="line"> * maxStream —— 同时播放的流的最大数量，当播放的流的数目大于此值，则会选择性停止优先级较低的流</span><br><span class="line"> * streamType —— 声音的类型，一般为AudioManager.STREAM_MUSIC(具体在AudioManager类中列出)</span><br><span class="line"> * srcQuality —— 采样率转化质量，当前无效果，使用<span class="number">0</span>作为默认值</span><br></pre></td></tr></table></figure></p>
<p>初始化一个实例,创建了一个最多支持5个流同时播放的，类型标记为音乐的<code>SoundPool</code>：<br><figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">SoundPool soundPool</span> = new SoundPool(5, AudioManager.STREAM_MUSIC, 0);</span><br></pre></td></tr></table></figure></p>
<h3 id="2-2-Android-5-0（含）之后"><a href="#2-2-Android-5-0（含）之后" class="headerlink" title="2.2 Android 5.0（含）之后"></a>2.2 Android 5.0（含）之后</h3><p>使用<code>Builder</code>模式进行构造。<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">public</span> <span class="selector-tag">SoundPool</span><span class="selector-class">.Builder</span>().***<span class="selector-class">.build</span>()</span><br></pre></td></tr></table></figure></p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Constructs a new Builder <span class="keyword">with</span> the <span class="keyword">defaults</span> <span class="keyword">format</span> values. <span class="keyword">If</span> <span class="keyword">not</span> provided, the maximum <span class="built_in">number</span> <span class="keyword">of</span> streams <span class="keyword">is</span> <span class="number">1</span> (see setMaxStreams(<span class="built_in">int</span>) <span class="keyword">to</span> <span class="keyword">change</span> it), <span class="keyword">and</span> the audio <span class="keyword">attributes</span> have a <span class="keyword">usage</span> <span class="keyword">value</span> <span class="keyword">of</span> AudioAttributes.USAGE_MEDIA (see setAudioAttributes(AudioAttributes) <span class="keyword">to</span> <span class="keyword">change</span> them).</span><br></pre></td></tr></table></figure>
<p>示例如下<br><figure class="highlight pony"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">AudioAttributes</span> audioAttributes = null;</span><br><span class="line">audioAttributes = <span class="function"><span class="keyword">new</span> <span class="title">AudioAttributes</span>.<span class="title">Builder</span>()</span></span><br><span class="line"><span class="function">	                  .<span class="title">setUsage</span>(<span class="type">AudioAttributes</span>.<span class="type">USAGE_MEDIA</span>)</span></span><br><span class="line"><span class="function">	                  .<span class="title">setContentType</span>(<span class="type">AudioAttributes</span>.<span class="type">CONTENT_TYPE_MUSIC</span>)</span></span><br><span class="line"><span class="function">	                  .<span class="title">build</span>();</span></span><br><span class="line"><span class="function">                      </span></span><br><span class="line"><span class="function"><span class="title">mSoundPool</span> = <span class="title">new</span> <span class="title">SoundPool</span>.<span class="title">Builder</span>()</span></span><br><span class="line"><span class="function">	                  .<span class="title">setMaxStreams</span>(<span class="number">16</span>)</span></span><br><span class="line"><span class="function">	                  .<span class="title">setAudioAttributes</span>(audioAttributes)</span></span><br><span class="line"><span class="function">	                  .<span class="title">build</span>();</span></span><br></pre></td></tr></table></figure></p>
<p><code>Builder</code>可以设置多个参数<br><figure class="highlight pf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>. <span class="built_in">set</span>MaxStreams和之前<span class="keyword">max</span>Streams参数相同.</span><br><span class="line"><span class="number">2</span>. <span class="built_in">set</span>AudioAttributes用来设置audio 属性，此值要么不设，要么设置不为null的值，否则会导致异常产生</span><br></pre></td></tr></table></figure></p>
<p><code>AudioAttributes</code>也是使用<code>Builder</code>模式来构造的<br><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">1. </span>setUsage用来设置用途(比如是游戏还是媒体还是响铃等)</span><br><span class="line"><span class="bullet">2. </span>setContentType用来设置内容类型(比如是视频还是音乐)</span><br></pre></td></tr></table></figure></p>
<h2 id="3-设置监听函数"><a href="#3-设置监听函数" class="headerlink" title="3. 设置监听函数"></a>3. 设置监听函数</h2><p>创建完 <code>SoundPool</code> 后,通过SoundPool的一个装载完成的监听事件<code>SoundPool.setOnLoadCompleteListener</code>来保证装载完成在播放声音。这主要是为了播放做准备.通过名字可猜测到, 当音频资源加载完成后,会回调设置的监听的<code>onLoadComplete</code>方法, 在这个方法里, 可以进行播放音频<br><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mSoundPool.setOnLoadCompleteListener(<span class="keyword">this</span>);</span><br></pre></td></tr></table></figure></p>
<p><code>SoundPool.setOnLoadCompleteListener()</code>需要实现一个<code>SoundPool.OnLoadCompleteListener</code>接口，其中需要实现<code>onLoadComplete()</code>方法，<br>以下是<code>onLoadComplete()</code>方法的完整声明：<br><figure class="highlight fortran"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">onLoadComplete(SoundPool soundPool, <span class="built_in">int</span> sampleId, <span class="built_in">int</span> <span class="keyword">status</span>)</span><br><span class="line"> * soundPool：当前触发事件的声音池。</span><br><span class="line"> * sampleId：当前装载完成的音频资源在音频池中的ID。</span><br><span class="line"> * <span class="keyword">status</span>：状态码，展示没有意义，为预留参数，会传递<span class="number">0</span>。</span><br></pre></td></tr></table></figure></p>
<h2 id="4-加载音频资源"><a href="#4-加载音频资源" class="headerlink" title="4. 加载音频资源"></a>4. 加载音频资源</h2><p>可以通过四种途径来记载一个音频资源：</p>
<ol>
<li><p>通过一个<code>AssetFileDescriptor</code>assert文件描述符</p>
<figure class="highlight q"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="built_in">load</span>(AssetFileDescriptor afd, <span class="type">int</span> priority)</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过一个资源ID</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int <span class="keyword">load</span>(<span class="keyword">Context</span> <span class="keyword">context</span>, <span class="built_in">int</span> resId, <span class="built_in">int</span> <span class="keyword">priority</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过指定的路径加载</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int <span class="keyword">load</span>(<span class="keyword">String</span> <span class="keyword">path</span>, <span class="built_in">int</span> <span class="keyword">priority</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>通过<code>FileDescriptor</code>文件描述符加载</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int <span class="keyword">load</span>(FileDescriptor fd, <span class="keyword">long</span> <span class="keyword">offset</span>, <span class="keyword">long</span> <span class="keyword">length</span>, <span class="built_in">int</span> <span class="keyword">priority</span>)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>加载 fd 所对应的文件的offset开始、长度为length的声音</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">* </span>上面4个方法中都有一个<span class="code">`priority`</span>参数，该参数目前还没有任何作用，Android建议将该参数设为1，保持和未来的兼容性。 </span><br><span class="line"><span class="bullet">* </span>上面4个方法加载声音之后，都会返回该声音的的ID，以后程序就可以通过该声音的ID 来播放指定声音。</span><br></pre></td></tr></table></figure>
<p>一个<code>SoundPool</code>能同时管理多个音频，所以可以通过多次调用load函数来记载，如果记载成功将返回一个非0的<code>soundID</code>，用于播放时指定特定的音频。<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> soundID1 = soundPool.load(<span class="keyword">this</span>, R.raw.sound1, <span class="number">1</span>);</span><br><span class="line"> <span class="keyword">if</span>(soundID1 ==<span class="number">0</span>)&#123;</span><br><span class="line">     <span class="comment">// 加载失败</span></span><br><span class="line">&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">    <span class="comment">// 加载成功</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">int</span> soundID2 = soundPool.load(<span class="keyword">this</span>, R.raw.sound2, <span class="number">1</span>);</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>
<p>这里加载了两个流，并分别记录了返回的<code>soundID</code>。</p>
<p>流的加载过程是一个异步处理过程，真正播放要等回调函数<code>onLoadComplete</code>表明加载完成，之后即可播放加载的音频。</p>
<h2 id="5-播放控制"><a href="#5-播放控制" class="headerlink" title="5. 播放控制"></a>5. 播放控制</h2><p>有以下几个函数可用于控制播放：</p>
<ol>
<li><p>播放指定音频的音效，并返回一个streamID 。</p>
<figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">final int play(int soundID, <span class="type">float</span> leftVolume, <span class="type">float</span> rightVolume, int priority, int loop, <span class="type">float</span> rate) </span><br><span class="line"> * soundID参数为资源ID</span><br><span class="line"> * leftVolume和rightVolume个参数为左右声道的音量，从大到小取<span class="number">0.0</span>f~<span class="number">1.0</span>f之间的值</span><br><span class="line"> * priority 流的优先级，值越大优先级高，影响当同时播放数量超出了最大支持数时SoundPool对该流的处理；</span><br><span class="line"> * loop 循环播放的次数，<span class="number">0</span>为值播放一次，<span class="number">-1</span>为无限循环，其他值为播放loop+<span class="number">1</span>次（例如，<span class="number">3</span>为一共播放<span class="number">4</span>次）.</span><br><span class="line"> * rate 播放的速率，范围<span class="number">0.5</span><span class="number">-2.0</span>(<span class="number">0.5</span>为一半速率，<span class="number">1.0</span>为正常速率，<span class="number">2.0</span>为两倍速率)</span><br></pre></td></tr></table></figure>
</li>
<li><p>暂停指定播放流的音效（streamID 应通过play()返回）。</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> pause(<span class="keyword">int</span> streamID)</span><br></pre></td></tr></table></figure>
</li>
<li><p>继续播放指定播放流的音效（streamID 应通过play()返回）。 </p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> resume(<span class="keyword">int</span> streamID)</span><br></pre></td></tr></table></figure>
</li>
<li><p>终止指定播放流的音效（streamID 应通过play()返回）。</p>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">final <span class="keyword">void</span> <span class="built_in">stop</span>(<span class="keyword">int</span> streamID)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>这里需要注意的是， </p>
<ol>
<li><code>play()</code>函数传递的是一个<code>load()</code>返回的<code>soundID</code>——指向一个被记载的音频资源 ，如果播放成功则返回一个非0的<code>streamID</code>——指向一个成功播放的流 ；同一个<code>soundID</code>可以通过多次调用<code>play()</code>而获得多个不同的streamID (只要不超出同时播放的最大数量)；</li>
<li><code>pause()</code>、<code>resume()</code>和<code>stop()</code>是针对播放流操作的，传递的是<code>play()</code>返回的<code>streamID</code>;</li>
<li><code>play()</code>中的<code>priority参</code>数，只在同时播放的流的数量超过了预先设定的最大数量是起作用，管理器将自动终止优先级低的播放流。如果存在多个同样优先级的流，再进一步根据其创建事件来处理，新创建的流的年龄是最小的，将被终止；</li>
<li>无论如何，程序退出时，手动终止播放并释放资源是必要的。</li>
</ol>
<h2 id="6-更多属性设置"><a href="#6-更多属性设置" class="headerlink" title="6. 更多属性设置"></a>6. 更多属性设置</h2><p>其实就是<code>paly()</code>中的一些参数的独立设置：</p>
<ol>
<li><p>设置指定播放流的循环.</p>
<figure class="highlight processing"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> setLoop(<span class="built_in">int</span> streamID, <span class="built_in">int</span> <span class="built_in">loop</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置指定播放流的音量.</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> setVolume(<span class="keyword">int</span> streamID, <span class="keyword">float</span> leftVolume, <span class="keyword">float</span> rightVolume)</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置指定播放流的优先级，上面已说明priority的作用.</p>
<figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> setPriority(<span class="keyword">int</span> streamID, <span class="keyword">int</span> <span class="keyword">priority</span>)</span><br></pre></td></tr></table></figure>
</li>
<li><p>设置指定播放流的速率，0.5-2.0.</p>
<figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> setRate(<span class="keyword">int</span> streamID, <span class="keyword">float</span> rate)</span><br></pre></td></tr></table></figure>
</li>
</ol>
<h2 id="7-释放资源"><a href="#7-释放资源" class="headerlink" title="7. 释放资源"></a>7. 释放资源</h2><p>可操作的函数有：<br><figure class="highlight aspectj"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">boolean</span> unload(<span class="keyword">int</span> soundID)</span><br></pre></td></tr></table></figure></p>
<p>卸载一个指定的音频资源.<br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> <span class="keyword">release</span>()</span><br></pre></td></tr></table></figure></p>
<p>释放<code>SoundPool</code>中的所有音频资源.</p>
<h2 id="8-SoundPool的注意事项"><a href="#8-SoundPool的注意事项" class="headerlink" title="8. SoundPool的注意事项"></a>8. SoundPool的注意事项</h2><ol>
<li>虽然<code>SoundPool</code>可以装载多个音频资源，但是最大只能申请1MB的内存空间，这就意味着只能用使用它播放一些很短的声音片段，而不是用它来播放歌曲或者做游戏背景音乐。可以修改音频码率来压缩音频大小，把 <code>128kbps</code>改成<code>32kbps</code>。</li>
<li><code>SoundPool</code>提供的<code>pause()</code>、<code>resume()</code>、<code>stop()</code>最好不要轻易使用，因为它有时候会使程序莫名其妙的终止，如果使用，最好做大量的测试。而且有时候也不会立即终止播放声音，而是会等缓冲区的音频数据播放完才会停止。</li>
<li>虽然<code>SoundPool</code>比<code>MediaPlayer</code>的效率好，但也不是绝对不存在延迟的问题，尤其在那些性能不太好的手机中，<code>SoundPool</code>的延迟问题会更严重，但是现在一般的手机配置，那一点的延迟还是可以接受的。</li>
<li>因为android系统一个设备只允许同时有32个音效文件播放，所以要你在程序中控制同时播放的音频数。并且在<code>Activity</code>被覆盖到下面或者锁屏时对资源进行回收，即调用<code>Soundpool</code>对象的<code>Release（）</code>方法。</li>
<li>每次播放一次，<code>soundpool.play</code>方法有个参数是控制重复播放次数的，将之设置为0，即只播放一次</li>
</ol>
<h2 id="参考文献"><a href="#参考文献" class="headerlink" title="参考文献"></a>参考文献</h2><p><a href="https://blog.csdn.net/xx326664162/article/details/54863343" target="_blank" rel="noopener">Android 音频播放之SoundPool的使用和封装</a></p>
<p><a href="https://www.cnblogs.com/plokmju/p/android_SoundPool.html" target="_blank" rel="noopener">Android–SoundPool</a></p>
<p><a href="https://blog.csdn.net/qq_28261343/article/details/82818868" target="_blank" rel="noopener">Android SoundPool 的使用</a></p>
<p><a href="https://blog.csdn.net/leansmall/article/details/79057859" target="_blank" rel="noopener">Android音频播放之SoundPool 详解</a></p>
<p><a href="https://developer.android.com/reference/android/media/SoundPool" target="_blank" rel="noopener">/developer.android: SoundPool</a></p>
</div><div class="tags"></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/ubuntu中使用apt安装jdk后如何查找java的真实路径/" class="pre">ubuntu中使用apt安装jdk后如何查找java的真实路径</a><a href="/Android-Vibrate震动/" class="next">Android Vibrator震动</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Android-SoundPool音频池"><span class="toc-text">Android SoundPool音频池</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-简介"><span class="toc-text">1. 简介</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-创建SoundPool"><span class="toc-text">2. 创建SoundPool</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#2-1-Andoroid-5-0之前"><span class="toc-text">2.1 Andoroid 5.0之前</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-Android-5-0（含）之后"><span class="toc-text">2.2 Android 5.0（含）之后</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-设置监听函数"><span class="toc-text">3. 设置监听函数</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-加载音频资源"><span class="toc-text">4. 加载音频资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-播放控制"><span class="toc-text">5. 播放控制</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-更多属性设置"><span class="toc-text">6. 更多属性设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-释放资源"><span class="toc-text">7. 释放资源</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-SoundPool的注意事项"><span class="toc-text">8. SoundPool的注意事项</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#参考文献"><span class="toc-text">参考文献</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/ubuntu中使用apt安装jdk后如何查找java的真实路径/">ubuntu中使用apt安装jdk后如何查找java的真实路径</a></li><li class="post-list-item"><a class="post-list-link" href="/Android-SoundPool/">Android SoundPool音频池</a></li><li class="post-list-item"><a class="post-list-link" href="/Android-Vibrate震动/">Android Vibrator震动</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo常用命令/">hexo常用命令</a></li><li class="post-list-item"><a class="post-list-link" href="/BlueLake博客主题的详细配置/">BlueLake博客主题的配置</a></li><li class="post-list-item"><a class="post-list-link" href="/pic/">pic</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo中添加本地图片/">hexo中添加本地图片</a></li><li class="post-list-item"><a class="post-list-link" href="/github/">ubuntu上github的部署（草稿）</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo/">hexo（草稿）</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo-admin/">hexo-admin 编辑MD实时看效果（草稿）</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Junsheng Wang.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>