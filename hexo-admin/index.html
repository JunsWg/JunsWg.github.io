<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>hexo-admin 编辑MD实时看效果（草稿） | 保持好奇</title><link rel="stylesheet" type="text/css" href="//fonts.neworld.org/css?family=Source+Code+Pro"><link rel="stylesheet" type="text/css" href="/css/style.css?v=2.0.1"><link rel="stylesheet" type="text/css" href="/css/highlight.css?v=2.0.1"><link rel="Shortcut Icon" href="/favicon.ico"><link rel="bookmark" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">hexo-admin 编辑MD实时看效果（草稿）</h1><a id="logo" href="/.">保持好奇</a><p class="description">独学而无友则孤陋而寡闻</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div><div id="search-form"><div id="result-mask" class="hide"></div><label><input id="search-key" type="text" autocomplete="off" placeholder="Arama"></label><div id="result-wrap" class="hide"><div id="search-result"></div></div><div class="hide"><template id="search-tpl"><div class="item"><a href="/{path}" title="{title}"><div class="title">{title}</div><div class="time">{date}</div><div class="tags">{tags}</div></a></div></template></div></div></div><div id="layout" class="layout-g"><div class="layout-l"><div class="content_container"><div class="post"><h1 class="post-title">hexo-admin 编辑MD实时看效果（草稿）</h1><div class="post-meta"><a href="/hexo-admin/#comments" class="comment-count"></a><p><span class="date">Dec 17, 2018</span><span><i id="busuanzi_container_page_pv"><i id="busuanzi_value_page_pv"></i><i>点击</i></i></span></p></div><div class="post-content"><h1 id="hexo-admin"><a href="#hexo-admin" class="headerlink" title="hexo-admin"></a>hexo-admin</h1><p>参考文献</p>
<p><a href="https://www.jianshu.com/p/68e727dda16d" target="_blank" rel="noopener">如何优雅地发布Hexo博客</a></p>
<p>就目前而言，我所知道的发布Hexo的博客有如下几种：<br>1、原始方式，也就是在服务器上编写md文件，然后利用hexo g来生成；<br>2、利用github+hook来管理，小锅这里有一篇教程；<br>3、其他(hexo-admin or other plugins)；<br>我所用的这个方式就属于第三种，略微改进版。也许你已经看过[那么可以概览之后忽略]，也许你没看过，那么请耐心看完，反正都点进来了，也许有福利呢，who knows…</p>
<p>环境说明<br>格子这里所使用的环境如下：<br>1、阿里云 Linux 3.10.0-514.6.2.el7.x86_64<br>2、NodeJs 6.10.3<br>3、Hexo-cli: 1.0.2<br>4、Hexo 3.3.7<br>5、Hexo-admin<br>6、Nginx1.9.9</p>
<p>本篇博客的重点在于Hexo博客的优雅发布，所以其他必需环境的安装大部分会简短带过。如果还未安装过相关环境或者不会安装相关环境的请自行百度，网上有特别丰富的教程资料，这里只给出部分链接供参考。<br>重要说明：格子未直接使用hexo server启动hexo服务来对外提供博客的访问，而是通过nginx作为web服务器对外提供服务。<br>NodeJs<br>下载地址<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http:<span class="regexp">//</span>nodejs.cn<span class="regexp">/download/</span></span><br></pre></td></tr></table></figure></p>
<p>安装<br>请参考这里，注意自己选择的安装包。<br>Hexo<br>官网<br><figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">https:</span><span class="comment">//hexo.io/</span></span><br></pre></td></tr></table></figure></p>
<p>安装<br>请参考这里。需要注意的是，格子这里是将环境搭建在阿里云机器上，并不是通过GitHub托管，毕竟用GitHub的子域名感觉不够高大上，毕竟装(chui)比(niu)要装一整套的。所以我就花重金买了域名，买了云主机，买了oss，这样装备齐全之后，感觉逼格都提高了。</p>
<p>另：安装完博客之后，有很多主题可供挑选，点击这里，找到自己喜欢的主题，并给hexo换上，舒舒服服地来一发吧。<br>Hexo-admin<br>主角登场了，前面也有提到过，管理Hexo博客，我所知道的有几种方式。用手动管理的方式未免显得太过于原始人，即便你用本地的Markdown编辑器洋洋洒洒地写完了一篇博客，还是得屁颠屁颠地连接到服务器，然后将文件上传到博客服务器，再然后谄媚地告诉服务器，乖，帮我执行一下hexo g，命令执行完，静态页面生成后一篇博客才叫告一段落。<br>也许你不嫌麻烦，觉得这样也挺好的，没那么多屁事儿折腾，那么就坚持自己的做法也未尝不可。<br>但是，如果你跟我一样嫌(tai)麻(lan)烦(le)的话，那么利用Hexo-admin插件，加上自己部分diy，也许一个自己比较满意的Hexo博客发布方式就到手了，岂不是一大爽事。</p>
<p>就是这个feel~倍儿爽</p>
<p>反正我就是懒，不要拉我，让我懒。其实有时候这种“懒”往往能促使人进步，如果不嫌麻烦甘于重复劳动，虽然会少掉很多折腾，但也会少掉很多发现和进步。<br>好了，鸡汤喝完，该说正事儿了。<br>hexo-admin官网<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https:<span class="regexp">//</span>jaredforsyth.com<span class="regexp">/hexo-admin/</span></span><br></pre></td></tr></table></figure></p>
<p>step 1<br>安装必要环境，请参照上面<br>step 2<br>初始化博客，一般到这里你应该是已经初始化自己的博客了，如果还没有的话，请看下面<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cd</span> /usr/<span class="built_in">local</span>/</span><br><span class="line">hexo init yourblog</span><br><span class="line"><span class="built_in">cd</span> yourblog</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure></p>
<p>step 3<br>安装hexo-admin插件，并且启动hexo服务，打开浏览器访问能看到基本的界面<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="comment">--save hexo-admin</span></span><br><span class="line">hexo <span class="keyword">server</span> -d</span><br><span class="line"><span class="keyword">open</span> <span class="keyword">http</span>://localhost:<span class="number">4000</span>/<span class="keyword">admin</span>/</span><br></pre></td></tr></table></figure></p>
<p>登录界面</p>
<p>到这里，没进行配置的小伙伴可能还无法登录，请接着往下看。<br>step 4<br>在hexo的_config.yml配置hexo-admin<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">admin</span>:</span><br><span class="line">   <span class="attribute">username</span>: zoro</span><br><span class="line">   <span class="attribute">password_hash</span>:be121740bf988b2225a313fa1f107ca1</span><br><span class="line">   <span class="attribute">secret</span>: hey hexo</span><br><span class="line">   <span class="attribute">deployCommand</span>: <span class="string">'./admin_script/hexo-generate.sh'</span></span><br></pre></td></tr></table></figure></p>
<p>注<br>1、password_hash就是密码，通过bcrypt hash，你可以用尽你一切手段对自己的密码做一个bcrypt加密，C/Java/Python都可以，做人嘛，重要的是嗨森；<br>2、secret用以cookies安全；<br>3、deployCommand就是一个关键点，不要着急，下面给出说明；<br>主页</p>
<p>Post：博客文章列表，包括已经发布的和还在草稿箱等待宠幸的；<br>Pages：就是诸如标签云之类的页面管理；<br>About：关于admin插件的说明<br>hexo-gen：这个原来是Deploy，被我修改了，关键节点；<br>Settings:配置；</p>
<p>step 5<br>先解释一下上面配置的那个deployCommand的用处，目的在于页面上你点击了Deploy页面下面的Deploy按钮的时候，所执行的脚本，这里格子拿它来作为执行hexo g的载体。<br>说到这里，可能有些人不是很理解为什么要这么做，看官莫急，听我细细道来。<br>其实，当你以hexo server -d启动了hexo服务的时候，hexo-admin插件在你修改了 某篇博已发布博客，或者新发布博客的时候，会在后台帮你执行一系列操作，所以这个时候，你可以通过<a href="http://localhost:4000访问就可以看到刚才发布到博客了，看到这里，有读者应该就要心里问候格子声：那你是不是傻，为什么还要折腾？容我说一句，原因只有一点：以hexo" target="_blank" rel="noopener">http://localhost:4000访问就可以看到刚才发布到博客了，看到这里，有读者应该就要心里问候格子声：那你是不是傻，为什么还要折腾？容我说一句，原因只有一点：以hexo</a> server启动的hexo对外提供的服务，并不是特别稳定，访问略慢，毕竟不是专门的web服务容器，而且如果你不以nohup方式启动的话，一旦关掉Xshell等操作界面的时候，就会被迫关掉，所以带来了一系列令人不喜的体验，这就是我折腾的唯一原因。<br>因此，其实格子是以Nginx为web服务容器对外提供博客服务，每次将新博客生成静态Html放到Nginx配置的目录下，速度不要太快；格子的云主机只有1G内存 单核CPU,还是能有不俗的访问体验，所以觉得还算没白折腾。<br>有点走题，话说回来，大体的步骤是这样：<br>1、Nginx提供web服务<br>2、hexo-admin提供博客管理<br>3、利用hexo-admin在浏览器实现博客编写，或者自己本地md编辑器写好之后粘贴到hexo-admin，后者可能更为保险，防止丢失。<br>4、利用hexo-admin留下来的deploy按钮，去执行我们放在博客服务器上的脚本，来生成html页面；<br>所以，重点来了，在_config.yml里面填写好deployCommand的存储路径之后，在该路径下生成脚本；<br>touch hexo-generate.sh;<br>vim hexo-generate.sh;</p>
<p>输入以下内容<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env sh</span></span><br><span class="line">hexo g</span><br></pre></td></tr></table></figure></p>
<p>保存退出，并赋予执行权限<br>执行Shift+:，输入q，如下<br><figure class="highlight verilog"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:q</span><br><span class="line">chmod +x hexo-<span class="keyword">generate</span><span class="variable">.sh</span></span><br></pre></td></tr></table></figure></p>
<p>step 6<br>验证效果，这里我没有贴出Nginx的配置，稍等给出，可以先行验证是否有效果<br>1、启动hexo server<br>2、访问<a href="http://localhost:4000/admin并登陆" target="_blank" rel="noopener">http://localhost:4000/admin并登陆</a><br>3、进入Posts页面，新建博客并编写发布；<br>4、进入Deploy页面（如果你还没改掉改名称的话），点击下面的Deploy按钮<br>5、进入博客目录-&gt;public，查看相应的html是否有生成，如果有，那么恭喜你成功了。<br>这里有两个问题：<br>①、hexo-admin的作者将hexo-admin的服务依赖于hexo来运行[hexo s]，个人觉得有点浪费资源，但有碍于没时间，只好暂时将就这样。有兴趣的人，可以去阅读源码，然后将hexo-admin处理成独立的服务。<br>②、Deploy页面的功能其实被我们diy成hexo generate的执行者了，所以有强迫症的小伙伴可以将页面内容改成具体含义的，比如格子改成了hexo-gen，修改路径在hexo目录下，node_modules/hexo-admin/www/bundle.js；<br>差不多就是这样，突然觉得有点没头没尾，因为没有讲Nginx部分，下面给出，这样大家应该不会觉得特别乱；<br>Nginx<br>下载<br><a href="http://nginx.org/en/download.html" target="_blank" rel="noopener">http://nginx.org/en/download.html</a><br>安装<br>请搜索网上安装教程，特别多，这里不做重复劳动了。如果有什么问题可以留言指出。<br>配置<br>    server {<br>        listen 80;</p>
<pre><code>    #域名，多个用空格隔开
    server_name lzoro.com blog.lzoro.com;
    #配置hexo博客目录
    root /usr/local/hexo/public;
    location / {
            index  index.html index.htm;
    }
    access_log /tmp/logs/nginx/hexo.access.log;
}
</code></pre><p>启动nginx，访问自己的域名<a href="http://blog.lzoro.com，如果没出问题的情况下，会出现自己的博客，然后可以看到各篇博客的情况。" target="_blank" rel="noopener">http://blog.lzoro.com，如果没出问题的情况下，会出现自己的博客，然后可以看到各篇博客的情况。</a><br>小结<br>发布Hexo博客的方式有好几种，每个人的喜好不一样，所以也无关优劣。<br>格子这里带来的方式是利用Nginx作为web容器，利用Hexo-admin作为web后台管理来管理hexo博客，然后通过hexo-admin留下来的脚本执行按钮执行hexo g生成博客静态页面，相当于，你只需要一个浏览器，无需远程连接博客服务器，就可以轻松发布自己的博客了。<br>如果文章对你帮助，无妨留个言让格子知道呗。</p>
<p>作者：格子Lin<br>链接：<a href="https://www.jianshu.com/p/68e727dda16d" target="_blank" rel="noopener">https://www.jianshu.com/p/68e727dda16d</a><br>來源：简书<br>简书著作权归作者所有，任何形式的转载都请联系作者获得授权并注明出处。</p>
<h3 id="安装-hexo-admin"><a href="#安装-hexo-admin" class="headerlink" title="安装 hexo-admin"></a>安装 hexo-admin</h3><p>参考文献</p>
<p><a href="https://albenw.github.io/posts/4ffa5bc6/" target="_blank" rel="noopener">hexo-admin安装使用</a></p>
<p>cd hexo 目录</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm <span class="keyword">install</span> <span class="comment">--save hexo-admin</span></span><br></pre></td></tr></table></figure>
<p>启动 hexo</p>
<figure class="highlight ebnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">hexo s</span></span><br></pre></td></tr></table></figure>
<p>然后打开 <a href="http://localhost:4000/admin/" target="_blank" rel="noopener">http://localhost:4000/admin/</a> 就可以看到管理页面。</p>
<p>在 hexo-admin 你可以</p>
<p>Pages - 新加 page；<br>Posts - 新加或删除 post；双击一个 post，你可以编辑，预览，新增修改 tags、categories，选择发布或不发布；<br>Settings - 一些配置；<br>Deploy - 可以直接部署到 github。</p>
<p>问题</p>
<p>minimatch</p>
<p>1<br>npm WARN deprecated <a href="mailto:minimatch@2.0.10" target="_blank" rel="noopener">minimatch@2.0.10</a>: Please update to minimatch 3.0.2 or higher to avoid a RegExp DoS issue<br>当你安装 hexo-admin，执行 npm install –save hexo-admin 时，可能会遇到上面的错误提示，是因为你缺少了一些依赖，执行下面的就好了。</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install minimatch@<span class="string">"3.0.2"</span>  </span><br><span class="line">npm update -d</span><br><span class="line">Config value “admin.deployCommand” <span class="keyword">not</span> found</span><br></pre></td></tr></table></figure>
<p>当你第一次点击 Deploy 按钮时，可能会遇到上述的错误，因为缺少了执行 deploy 的命令，这个问题已经有人提了 issue 并且解决了<br><a href="https://github.com/jaredly/hexo-admin/issues/70" target="_blank" rel="noopener">https://github.com/jaredly/hexo-admin/issues/70</a><br>还需要注意的是，issue 中的脚本只是 hexo deploy，只是做 deploy 操作，但是一般我们的使用习惯是编辑完之后 deploy，所以是要 deploy 最新的，需要把脚本改为即可</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env sh</span></span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br><span class="line">deploy 后你可能看到</span><br></pre></td></tr></table></figure>
<p>Std Error<br>(node:83411) [DEP0061] DeprecationWarning: fs.SyncWriteStream is deprecated.<br>Warning: Permanently added the RSA host key for IP address ‘13.229.188.59’ to the list of known hosts.<br>Everything up-to-date<br>这不是错误，你可以不用管。说明已经 deploy 成功。</p>
<p>复制图片时的一个小问题</p>
<p>hexo-admin 编辑时支持直接复制图片（截图）到内容，这点是我比较喜欢的。但是有个问题，复制进去后是加载不出来的，会出现图裂的小图标。</p>
<p>这时你只需要点击别的页面，再点回来就可以看到了，就是“刷”一下就好了，最简单的就是点击右上角打勾的按钮，这个按钮的作用是拼写检查，点一下再点回来，就可以看到你刚复制进去的图片了。</p>
<p>这大概是因为 hexo-admin 对图片做了延迟加载，具体可以看看这篇文章说的<br><a href="https://htchz.me/2018/03/10/Hexo/" target="_blank" rel="noopener">https://htchz.me/2018/03/10/Hexo/</a></p>
<p>参考资料</p>
<p><a href="https://www.jianshu.com/p/68e727dda16d" target="_blank" rel="noopener">https://www.jianshu.com/p/68e727dda16d</a><br><a href="https://blog.kinpzz.com/2016/12/31/hexo-admin-backend-management/" target="_blank" rel="noopener">https://blog.kinpzz.com/2016/12/31/hexo-admin-backend-management/</a><br><a href="https://github.com/jaredly/hexo-admin" target="_blank" rel="noopener">https://github.com/jaredly/hexo-admin</a></p>
<p><a href="https://segmentfault.com/a/1190000010434546" target="_blank" rel="noopener">hexo-admin后台管理博客</a></p>
<p>需求<br>像Hexo这种静态博客用起来很方便，但是硬伤就是没有后台管理，每次想写博客或者说想要修改原博客的话，都需要在本机上找markdown文件，修改之后发布，尤其是如果机器上没有安装hexo,git等工具的时候，就无法修改了。因此hexo可不可以以像wp,ghost这种有后台管理, 随时随地编辑博客呢?</p>
<p>正巧hexo专门有一个插件hexo-admin 提供了在web UI下增删改查博客的功能，我也正好有一个VPS, 于是就有了下面的一种方法.</p>
<p>解决方法<br>首先说一下条件与需求。 我自己有一个的VPS，本来是可以直接将hexo部署到VPS的，但是考虑到自己维护的VPS的稳定性等问题，最后决定将hexo的静态页面部署github-pages上。</p>
<p>我的目的有两个:</p>
<p>拥有在线编辑博客的后台<br>本地机器同时也可以编辑发布博客<br>二者需要保持同步<br>基于这样的需求，仅仅靠github pages显然不可行了,必须借助VPS了.保持同步的意思是VPS的内容与本地机器上的博客的资源要保持一致。就是说我在线修改了某篇博客，然后之后如果可以很简单的同步到本地，使得两端保持同步，反过来一样。</p>
<p>我的做法是:</p>
<p>将hexo目录下的相关文件包括_config.yml,source/等文件建立一个私人repo(个人使用coding.net)<br>VPS上安装好hexo,具体过程与换台机器安装同理, 可参考这篇博客hexo迁移重装。<br>VPS上安装hexo-admin插件，这样可以在线编辑了. 在这一步的时候, 为了方便,我用了一个子域名以及在VPS上用nginx做前段端口转发.<br>到这里后台管理基本没有问题了. 接下来就是在线发布了. 正巧的是hexo-admin提供了这个功能, 有一个Deploy的功能,具体实现是使用nodejs的spawn函数来执行发布脚本的. 一开始不太懂spawn这个函数的使用, 就直接在deploy中随便输入了东西,结果各种 spawn err. 后来查过资料,才知道deploy的输入的位置其实是对hexo-admin的配置里面deployCommand的选项,可以为空. 打个比方,如果我在deployCommand写的是./hexo-deploy, 然后点击deploy按钮之后, 后台就可以执行hexo-deploy脚本的内容了. 有了这个接口就非常灵活了. 因为基于此, 我们不但来发布博客,甚至可以把同步的脚本加进去.具体参考 <a href="https://github.com/jaredly/he.." target="_blank" rel="noopener">https://github.com/jaredly/he..</a>.</p>
<p>下面说一下发布以及同步的操作:</p>
<p>在博客目录写一个有关git同步的小脚本:server-upload.sh 用来同步VPS目录下的变化，主要代码其实就是先git pull 拉取repo最新, 之后在push. 具体脚本代码不再赘述.<br>建一个hexo-deploy的脚本,内容:<br><figure class="highlight 1c"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g <span class="meta">&amp;&amp; hexo d</span></span><br></pre></td></tr></table></figure></p>
<figure class="highlight axapta"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">./<span class="keyword">server</span>-upload.sh</span><br></pre></td></tr></table></figure>
<p>利用hexo-admin的deploy功能，可以在线发布，注意修改_config.yml: 加上hexo-admin的admin选项, 加一个deployCommand: ./hexo-deploy的字段,如下:<br><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">admin</span>:</span><br><span class="line">    <span class="attribute">username</span>: XXX</span><br><span class="line">    <span class="attribute">password</span>: XXXXX</span><br><span class="line">    <span class="attribute">deployCommand</span>: <span class="string">'./hexo-deploy'</span></span><br></pre></td></tr></table></figure></p>
<p>编辑完博客时候，发布的时候，需要点击hexo-admin的deploy。这样在后台就可以执行前面定义的hexo-deloy脚本了<br>本地机器也需要有一个upload.sh的脚本, 每次同样需要先git pull 在git push 到私人repo. 其实就是版本控制那一套.<br>到现在基本完成了自己可以随时随地编辑博客并且多端同步的需求了. 之前也考虑过CI持续集成,但是大部分都是再建立一个分支, 需要把博客的source公开, 不太合适. 所以就选择了hexo-admin这种方法.</p>
<p>这篇博客便是在线完成的.</p>
<p>其实这里面的坑还是蛮多的(主要不熟悉node). 此外开始使用supervisor做后台运行监控, 结果不知为何, 在hexo d包括git的pull或者push等操作,都会报错,提示让我确认git用户, 但是我已经设置了git config的email和name. 查了很多资料也没有解决, 后来直接抛弃supervisor, 直接使用nohup来放后台运行了. 大概是这样了, 有什么问题可以留言或者邮件.</p>
<p>参考文献</p>
<p><a href="https://blog.csdn.net/zhy421202048/article/details/77877588" target="_blank" rel="noopener">hexo上传到GitHub</a></p>
<p>在你的hexo项目目录配置文件中找到</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">deploy</span>:</span><br><span class="line">  <span class="attribute">type</span>: git</span><br><span class="line">  <span class="attribute">repo</span>: <span class="attribute">https</span>:<span class="comment">//github.com/×××.github.io</span></span><br><span class="line">  <span class="attribute">branch</span>: master</span><br></pre></td></tr></table></figure>
<p>然后按自己的情况进行配置,运行</p>
<p>hexo d #如果没有报错就能在网页上浏览了</p>
<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Ps:</span> 可以将hexo d放到脚本中（即，先前提到的hexo-deploy），由hexo-admin的Deploy执行</span><br></pre></td></tr></table></figure>
<p>下面总结下发布的总体流程吧<br><figure class="highlight actionscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo <span class="keyword">new</span> <span class="string">"新的文章"</span></span><br><span class="line">hexo g 生成新的静态文件</span><br><span class="line">hexo  d 发布到GitHub</span><br></pre></td></tr></table></figure></p>
<h3 id="使用hexo-admin-deploy-d-出现提示"><a href="#使用hexo-admin-deploy-d-出现提示" class="headerlink" title="使用hexo-admin deploy -d 出现提示"></a>使用hexo-admin deploy -d 出现提示</h3><figure class="highlight lua"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fatal: could <span class="keyword">not</span> <span class="built_in">read</span> Username <span class="keyword">for</span> <span class="string">'https://github.com'</span>: No <span class="built_in">error</span>’</span><br></pre></td></tr></table></figure>
<p>参考文献</p>
<p>[kevin的博客]（<a href="http://www.cnblogs.com/zhenghengbin/p/9655060.html）" target="_blank" rel="noopener">http://www.cnblogs.com/zhenghengbin/p/9655060.html）</a></p>
<p>解决办法<br>•修改配置文件：根目录下的_config.yml，修改deploy节点。<br>•原来的配置为：<br>deploy:<br>  type: git<br>  repo: <a href="https://github.com/{yourname}/{yourname}.github.io.git" target="_blank" rel="noopener">https://github.com/{yourname}/{yourname}.github.io.git</a><br>  branch: master</p>
<p>•修改为如下：<br>deploy:</p>
<p>type: git</p>
<p>repo: https://{yourname}:<a href="mailto:{yourpassword}@github.com" target="_blank" rel="noopener">{yourpassword}@github.com</a>/{yourname}/{yourname}.github.io.git</p>
<p>branch: master<br><figure class="highlight lsl"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Ps： 此处的yourname不是<span class="section">email</span>账号，而是github上的username</span><br></pre></td></tr></table></figure></p>
</div><div class="tags"></div><div class="post-share"><div class="bdsharebuttonbox"><span style="float:left;line-height: 28px;height: 28px;font-size:16px;font-weight:blod">分享到：</span><a href="#" data-cmd="more" class="bds_more"></a><a href="#" data-cmd="mshare" title="分享到一键分享" class="bds_mshare"></a><a href="#" data-cmd="fbook" title="分享到Facebook" class="bds_fbook"></a><a href="#" data-cmd="twi" title="分享到Twitter" class="bds_twi"></a><a href="#" data-cmd="linkedin" title="分享到linkedin" class="bds_linkedin"></a><a href="#" data-cmd="youdao" title="分享到有道云笔记" class="bds_youdao"></a><a href="#" data-cmd="evernotecn" title="分享到印象笔记" class="bds_evernotecn"></a><a href="#" data-cmd="weixin" title="分享到微信" class="bds_weixin"></a><a href="#" data-cmd="qzone" title="分享到QQ空间" class="bds_qzone"></a><a href="#" data-cmd="tsina" title="分享到新浪微博" class="bds_tsina"></a></div></div><div class="post-nav"><a href="/hexo/" class="pre">hexo（草稿）</a><a href="/hexo主题中代码加行号已经字体修改/" class="next">hexo主题中代码加行号以及字体修改</a></div><div id="comments"></div></div></div></div><div class="layout-r"><div id="sidebar"><div class="search-pla"></div><div id="toc" class="widget"><div class="widget-title"><i class="fa fa-fei">文章目录</i></div><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#hexo-admin"><span class="toc-text">hexo-admin</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#安装-hexo-admin"><span class="toc-text">安装 hexo-admin</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#使用hexo-admin-deploy-d-出现提示"><span class="toc-text">使用hexo-admin deploy -d 出现提示</span></a></li></ol></li></ol></div><div class="widget"><div class="widget-title"><i class="fa fa-xie"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/Android-SoundPool/">Android SoundPool音频池</a></li><li class="post-list-item"><a class="post-list-link" href="/Android-Vibrate震动/">Android Vibrator震动</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo常用命令/">hexo常用命令</a></li><li class="post-list-item"><a class="post-list-link" href="/BlueLake博客主题的详细配置/">BlueLake博客主题的配置</a></li><li class="post-list-item"><a class="post-list-link" href="/pic/">pic</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo中添加本地图片/">hexo中添加本地图片</a></li><li class="post-list-item"><a class="post-list-link" href="/github/">ubuntu上github的部署（草稿）</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo/">hexo（草稿）</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo-admin/">hexo-admin 编辑MD实时看效果（草稿）</a></li><li class="post-list-item"><a class="post-list-link" href="/hexo主题中代码加行号已经字体修改/">hexo主题中代码加行号以及字体修改</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-biao"> 标签</i></div><div class="tagcloud"></div></div><div class="widget"><div class="widget-title"><i class="fa fa-archive"> 归档</i></div><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">十二月 2018</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-you"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div></div><a id="totop" href="#top"></a><div id="footer"><div class="footer-info"><p><a href="/baidusitemap.xml">Baidu Site Haritası</a> |  <a href="/atom.xml">订阅</a> |  <a href="/about/">关于</a></p><p>本站总访问量：<i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>次</p><p><span> Copyright &copy;<a href="/." rel="nofollow">Junsheng Wang.</a></span><span> Theme by<a rel="nofollow" target="_blank" href="https://github.com/chaooo/hexo-theme-BlueLake"> BlueLake.</a></span><span> Count by<a href="http://busuanzi.ibruce.info/"> busuanzi.</a></span><span> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a></span></p></div></div></div><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><script type="text/javascript" src="/js/search.json.js?v=2.0.1"></script><script type="text/javascript" src="/js/toctotop.js?v=2.0.1" async></script><script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":["mshare","weixin","tsina","qzone","linkedin","fbook","twi","print","renren","sqq","evernotecn","bdysc","tqq","tqf","bdxc","kaixin001","tieba","douban","bdhome","thx","ibaidu","meilishuo","mogujie","diandian","huaban","duitang","hx","fx","youdao","sdo","qingbiji","people","xinhua","mail","isohu","yaolan","wealink","ty","iguba","h163","copy"],"bdPic":"","bdStyle":"1","bdSize":"16"},"share":{},"image":{"viewList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"],"viewText":"分享到：","viewSize":"16"},"selectShare":{"bdContainerClass":null,"bdSelectMiniList":["tsina","qzone","weixin","fbook","twi","linkedin","youdao","evernotecn","mshare"]}};with(document)0[(getElementsByTagName('head')[0]||head).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
</script></body></html>